<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<html>
    <head>
    	<title>BuzzAd CPA Test Page</title>
    </head>
    <body>
        <h1>BuzzAd CPA Integration Test</h1>

        <h2>테스트 방법</h2>

        <h4>1. 다음의 링크를 우클릭하여 링크를 복사한 후 복사된 값을 북마크에 추가해 주세요.</h4>

        <a target="_blank" href='javascript:(function(){var a=document.location.search;if(-1==a.search("bz_tracking_id=10023_71ffbffd-ccf1-4edf-9c4c")){if(0==a.length)document.location.search="bz_tracking_id=10023_71ffbffd-ccf1-4edf-9c4c";else{for(var b=document.location.search.substr(1).split("&"),a=0;a<b.length;a++){var c=b[a].split("=");if("bz_tracking_id"==c[0]){c[1]="10023_71ffbffd-ccf1-4edf-9c4c";b[a]=c.join("=");break}}a>=b.length&&(b[b.length]="bz_tracking_id=10023_71ffbffd-ccf1-4edf-9c4c");document.location.search=b.join("&")}alert("\ud14c\uc2a4\ud2b8\ub97c \uc704\ud574 \ud398\uc774\uc9c0\uac00 \ub2e4\uc2dc \ub85c\ub4dc\ub429\ub2c8\ub2e4. \ub85c\ub4dc\uac00 \uc644\ub8cc\ub418\uba74 \ub2e4\uc2dc \ubd81\ub9c8\ud06c \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc11c \uc9c4\ud589\ud574 \uc8fc\uc138\uc694.")}else{b=[];for(a=0;a<localStorage.length;a++)b.push(localStorage.key(a));console.log(b);a:{for(a=0;a<b.length;a++)if("BuzzAd"==b[a]){a=!0;break a}a=!1}0==a?alert("[Fail] Step1 \ucd08\uae30\ud654 \ub2e8\uacc4\uac00 \uc5f0\ub3d9\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uc8fc\uc5b4\uc9c4 \uc2a4\ud06c\ub9bd\ud2b8 \ucf54\ub4dc\ub97c \uadf8\ub300\ub85c \uc0bd\uc785\ud574 \uc8fc\uc138\uc694."):-1!=localStorage.getItem(b).indexOf("10023_71ffbffd-ccf1-4edf-9c4c")?alert("[Success] Step1 \ucd08\uae30\ud654 \ub2e8\uacc4\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc5f0\ub3d9\ub418\uc5c8\uc2b5\ub2c8\ub2e4! \uc774 \ud398\uc774\uc9c0\uc5d0\uc11c \uc774\uc5b4\uc11c \uc815\ud574\uc9c4 \uc561\uc158\uc744 \uc9c4\ud589\ud558\uc2dc\uace0 \uc644\ub8cc\uc2dc \uc131\uacf5 \uba54\uc138\uc9c0\uac00 \ub728\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694."):alert("[Fail] Step1 \ucd08\uae30\ud654 \ub2e8\uacc4\uac00 \uc5f0\ub3d9\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uc8fc\uc5b4\uc9c4 \uc2a4\ud06c\ub9bd\ud2b8 \ucf54\ub4dc\ub97c \uadf8\ub300\ub85c \uc0bd\uc785\ud574 \uc8fc\uc138\uc694.")}})();'> Buzzad integration test </a>

        <h4>2. 연동 작업을 하도록 전달받은 광고 페이지 URL을 아래에 입력하고 버튼을 누르시면 테스트용 페이지가 새 창에서 열립니다.</h4>
        <h4 style="color:red">
        	* 필독 : 처음에 전달받은 광고 페이지에서 곧바로 리다이렉트가 일어나서 광고 페이지와 실제 코드 작업을 진행한 페이지간에 URL이 달라지지는 않았는지 반드시 확인하세요.<br>
          <div style="background-color:#eeee; margin:10px; padding:10px">
          특히 모바일 환경에서 URL이 변경되는 경우를 꼭 확인해야 합니다.<br>
          - 크롬 개발자 도구(Mac: alt+cmd+i / Window: F12) > <br>
          - Toggle Device Tool bar(Mac: cmd+shift+M / Windows: Ctrl+shift+M) > <br>
          - 상단의 Emulated Devices 옵션에서 Responsible 대신 Galexy S5 선택 > <br>
          - 새로고침 후 주소창에서 모바일 url 확인<br>
        </div>
        	URL이 서로 다를 경우, 자세한 사항은 
			<a href="https://github.com/Buzzvil/buzzad-web-integration#faq" target="_blank">Step1 FAQ</a>
			를 참조하세요.
		</h4>

        <input type="text" name="url" id="url_input" value='광고 페이지 URL을 입력하세요' onfocus="this.value=''" size="35">
        <input type="button" value="Load Page" onclick="loadUrl()">

        <h4>3. 테스트용 페이지에서 북마크를 클릭합니다. 성공 메세지가 뜨면 그 페이지에서 액션 완료 단계까지 진행해 주세요.</h4>

		<h4 >4. 정해진 액션 완료 단계에서 성공 메세지를 담은 Alert 가 뜨면 Step2 액션 달성 전송까지 테스트가 완료된 것입니다.</h4>
		<h4 style="color:red">
			* 필독 : Alert 가 발생하는지 여부 뿐만 아니라 발생하는 시점 또한 중요합니다. 정해진 단계에서 정상적으로 발생하는지 재차 확인해주세요.
		</h4>

        <h4>5. 연동이 완료되었음을 버즈빌 광고 담당자에게 알려주세요. 담당자가 최종 테스트를 한 후 성공 시 광고를 집행합니다.</h4>
        <h4 style="color:red">* 각 단계 별로 성공 메세지가 뜨지 않는다면 
        	<a href="https://github.com/Buzzvil/buzzad-web-integration" target="_blank">연동 가이드</a>
        	의 각 단계 별 FAQ를 참조하여 디버깅 하세요.</h4>
        <h4 style="color:red">* 반드시 Step2 연동 테스트까지 완료하신 후에 버즈빌 광고 담당자에게 알려주시기 바랍니다.</h4>

    </body>

    <script type="text/javascript">
    	function loadUrl() {
    		var url = document.getElementById('url_input').value;
    		var test = 'bz_tracking_id=10023_71ffbffd-ccf1-4edf-9c4c';
        	var [domain, params] = url.split('?');
        	if (params == null) {
        		params = test;
        	} else {
        		params = [params, test].join('&');
        	}
        	url = [domain, params].join('?');
        	window.open(url,'_blank');
	        alert("테스트용 페이지가 새로 열렸습니다. 해당 페이지에서 나머지 테스트를 진행해주세요.");
    	}
    </script>
</html>






